%& TASK 1: EUROPEAN OPTIONS
\noindent We are told to derive the boundary conditions for (\ref{general_pde}). To do so, we are assuming that 
%%% BOUNDARY CONDITIONS: ASSUMPTION FOR THE SOLUTION OF THE PDE 
	\begin{equation}\label{boundary_condition}
		V(S, t) = S A(t) + B(t) \doublequad \text{ as } S\to \infty,
	\end{equation}
for some functions $A$ and $B$ which solve the approximate problem
%%% THE PDE 
	\begin{equation}\label{pde}
		\partial_t V + \kappa (X - S) \ \partial_S V - rV + C \exp{-\alpha t} = 0
	\end{equation}
obtained after taking $S\to\infty$ in (\ref{general_pde}). We must firstly note~that
	\begin{equation}\label{derivatives}
		\partial_t V (S, t) = S A'(t) + B'(t), \doublequad \text{ and } \doublequad \partial_S V = A(t),
	\end{equation}
to further substitute (\ref{derivatives}) in (\ref{pde}) and get
	\begin{equation}\label{calc1}
		\begin{aligned}
			S A'(t) + B'(t) + \kappa (X - S) A(t) - r \left[ S A(t) + B(t)\right] + C\exp{-\alpha t} = 0.
		\end{aligned}
	\end{equation}

Since the solution is of the form (\ref{boundary_condition}), we may arrange (\ref{calc1}) into something of the same form, that is,
	\begin{equation}\label{calc2}
		\begin{aligned}
			S \left[A'(t) - (\kappa + r) A(t) \right] + \left[ B'(t) + \kappa X A(t) - rB(t) + C\exp{-\alpha t}\right] = 0,
		\end{aligned}
	\end{equation}
which is equivalent to solve
	\begin{equation}
		\begin{cases}
			A'(t) &=  (\kappa + r) A(t) \\
			B'(t) &= rB(t)  - f(t) \\
		\end{cases},
	\end{equation}
where $f(t) = \kappa X A(t) + C\exp{-\alpha t}$.

The first equation gives us that $A(t) = A_T \exp{-(\kappa + r)(T-t)}$, with 
$
A_T \overset{\text{\tiny def}}{=} A(T) \to R,
$ 
as $S\to\infty$. Hence, 
\begin{equation}\label{A}
	A(t) = R\exp{-(\kappa + r)(T-t)}
\end{equation} 

On the other hand, second equation gives us that $B$ is of the form $B(t) = C(t) \exp{-r (T-t)}$, $C(T) = B(T)$, where $C(t)$ is to be derived. Differentiating $B(t)$ and rearranging terms we get
%%% ODE FOR THE "CONSTANT" MULTIPLYING B
	\begin{equation}\label{C_ode}
		C'(t) = - \exp{r(T-t)}f(t), 
	\end{equation}
with $  B_T \overset{\text{\tiny def}}{=} B(T) $, which is zero for large $S$, i.e.,
	\begin{equation}\label{C_ode_sol}
		 C(t) 	= B_T + \int_t^T \exp{r(T-s)}f(s)\d s,
	\end{equation}
which implies that (see Appendix \ref{app_ODE_C})
	\begin{equation}
		C(t) = B_T + {X R}  \left[1 -  \exp{-\kappa(T-t)}\right]- \frac{C}{r+\alpha}\exp{rT}\left[\exp{-(r+\alpha)T}-\exp{-(r+\alpha)t}\right]
	\end{equation}

Therefore, for $S$ sufficiently large we obtain (see Appendix \ref{app_ODE_C}),
	%%% B(t) 
	\begin{equation}\label{B}
			B(t)  = {2X R}\exp{-\left(r+\frac{\kappa}{2}\right)(T-t)}\sinh\left(\frac{\kappa}{2}[T-t]\right)- \frac{C}{r+\alpha}\exp{rt}\left[\exp{-(r+\alpha)T}-\exp{-(r+\alpha)t}\right]
	\end{equation}

Finally,
	%%% VALUE FUNCTION WHEN S TENDS TO INFINITY
	\begin{equation}\label{boundary_formula}
		V(S,t) = SR  \ \exp{-\kappa_r(T-t)} +  {2X R}\exp{-\frac{1}{2}\left(r-\kappa_r\right)(T-t)}\sinh \frac{\kappa}{2}(T-t)- \frac{C}{\alpha_r}\exp{rt}\left[\exp{-\alpha_r T}-\exp{-\alpha_r t}\right],
	\end{equation}
	where $\kappa_r \defi \kappa + r$, and $\alpha_r \defi  \alpha + r.$
